# Statistics_Predict
Telegram bot + Python script + Xgboost Model


**工作流程说明**

1. 远程触发

用户在 Telegram 发送命令 /predict_today

Bot 解析命令 → 调用 Python 脚本

2. 数据抓取

API 或 token 获取最新股票价格、复权因子

可选抓取财报、宏观因子、Fama-French 因子、新闻情绪

3. 特征工程

生成滚动指标、标准化、one-hot 编码

输出可直接喂 XGBoost 的特征表

4. 模型预测

XGBoost 接收特征表 → 输出未来收益率或排序分数

可以保存预测结果以供调仓

5. 结果返回

Telegram Bot 自动发送表格 / 图表 / 调仓建议



解释图：
```
          ┌───────────────┐
          │ Telegram 用户 │
          │ 发送命令     │
          └─────┬─────────┘
                │
                ▼
        ┌─────────────────┐
        │ Telegram Bot     │
        │ (python-telegram-bot) │
        └─────┬─────────┘
              │ 解析指令
              ▼
        ┌─────────────────┐
        │ 调用 Python 脚本 │
        │ (抓取数据 & 特征)│
        └─────┬─────────┘
              │
              ▼
┌───────────────────────────────────┐
│ 数据抓取模块                       │
│ - 股票日线 OHLCV + 复权因子        │
│ - 财报 / 基本面数据                 │
│ - 行业 / 季节 / Fama-French 因子   │
│ - 新闻 / 情绪（可选）               │
└─────┬─────────────────────────────┘
      │
      ▼
┌──────────────────────────────┐
│ 特征工程模块                  │
│ - 滚动收益率 / 波动率 / 均线   │
│ - 行业/季节/月份 one-hot 编码 │
│ - 横截面标准化 / 分位数 z-score│
│ - 残差因子处理（可选）         │
└─────┬───────────────────────┘
      │
      ▼
┌──────────────────────────────┐
│ 本地 XGBoost 模型             │
│ - 用历史数据训练               │
│ - 接收最新特征表预测未来收益率 │
│ - 输出每只股票预测值或排名     │
└─────┬───────────────────────┘
      │
      ▼
┌──────────────────────────────┐
│ Telegram Bot 返回结果         │
│ - 排序表格 / CSV / 图表       │
│ - 可选通知每日策略调仓        │
└──────────────────────────────┘

```


六、它的弱点（必须知道）

1️⃣ 容易过拟合（尤其特征很多时）
2️⃣ 对时间序列建模能力一般
3️⃣ 解释性不如线性模型直观
4️⃣ 回测很好看，实盘衰减可能快
